# Generic workflow with the same name, that will return true in any case similar to the non generic workflow.
# source: https://docs.github.com/en/repositories/configuring-branches-and-merges-in-your-repository/defining-the-mergeability-of-pull-requests/troubleshooting-required-status-checks#handling-skipped-but-required-checks
name: "Terraform PR"
on:
  pull_request_target:
    branches:
      - main
    paths-ignore:
      - .github/workflows/terraform-pulll-request.yml

jobs:
  user-existence-check:
    name: "User Existence Check"
    runs-on: ubuntu-latest
    steps:
      - run: 'echo "No build required." '

  terraform:
    name: "Terraform plan"
    needs: user-existence-check
    runs-on: ubuntu-latest
    steps:
      - run: 'echo "No build required." '